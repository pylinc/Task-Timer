<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Timer</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f5f5f5;
            text-align: center;
            padding: 20px;
        }
        .container {
            max-width: 500px;
            margin: auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        input, button {
            margin: 10px;
            padding: 10px;
            font-size: 16px;
        }
        .timers {
            margin-top: 20px;
        }
        .timer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #eee;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            font-size: 18px;
            transition: 0.3s;
        }
        .timer.active {
            background: #4CAF50;
            color: white;
        }
        .timer span {
            font-size: 20px;
            font-weight: bold;
        }
        button {
            cursor: pointer;
            border: none;
            border-radius: 5px;
        }
        .start { background: #4CAF50; color: white; }
        .stop { background: #f44336; color: white; }
        .delete { background: #555; color: white; }
        .reset { background: #FF9800; color: white; }
    </style>
</head>
<body>
    <div class="container">
        <h2>Task Timer</h2>
        <input type="text" id="taskName" placeholder="Enter task name">
        <button onclick="addTimer()">Add Timer</button>
        <div class="timers" id="timers"></div>
    </div>
    <script>
        let timers = JSON.parse(localStorage.getItem("timers")) || [];
        let activeTimer = null;

        function saveTimers() {
            localStorage.setItem("timers", JSON.stringify(timers));
        }

        function addTimer() {
            const name = document.getElementById("taskName").value;
            if (!name) return alert("Enter a task name");
            
            const timer = {
                id: Date.now(),
                name: name,
                time: 0,
                interval: null
            };
            timers.push(timer);
            saveTimers();
            renderTimers();
        }

        function renderTimers() {
            const timersDiv = document.getElementById("timers");
            timersDiv.innerHTML = "";
            timers.forEach(timer => {
                const timerElement = document.createElement("div");
                timerElement.className = "timer" + (timer.interval ? " active" : "");
                timerElement.innerHTML = `
                    <span>${timer.name} - <span id="time-${timer.id}">${formatTime(timer.time)}</span></span>
                    <button class="start" onclick="startTimer(${timer.id})">‚ñ∂</button>
                    <button class="stop" onclick="stopTimer(${timer.id})">‚è∏</button>
                    <button class="reset" onclick="resetTimer(${timer.id})">üîÑ</button>
                    <button class="delete" onclick="deleteTimer(${timer.id})">üóë</button>
                `;
                timersDiv.appendChild(timerElement);
            });
        }

        function startTimer(id) {
            if (activeTimer) stopTimer(activeTimer);
            const timer = timers.find(t => t.id === id);
            timer.interval = setInterval(() => {
                timer.time++;
                document.getElementById(`time-${timer.id}`).innerText = formatTime(timer.time);
                saveTimers();
            }, 1000);
            activeTimer = id;
            renderTimers();
        }

        function stopTimer(id) {
            const timer = timers.find(t => t.id === id);
            clearInterval(timer.interval);
            timer.interval = null;
            activeTimer = null;
            saveTimers();
            renderTimers();
        }

        function resetTimer(id) {
            const timer = timers.find(t => t.id === id);
            timer.time = 0;
            document.getElementById(`time-${timer.id}`).innerText = formatTime(timer.time);
            saveTimers();
            renderTimers();
        }

        function deleteTimer(id) {
            timers = timers.filter(t => t.id !== id);
            if (activeTimer === id) activeTimer = null;
            saveTimers();
            renderTimers();
        }

        function formatTime(seconds) {
            let h = Math.floor(seconds / 3600);
            let m = Math.floor((seconds % 3600) / 60);
            let s = seconds % 60;
            return `${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
        }

        // Resume running timer on reload
        timers.forEach(timer => {
            if (timer.interval) {
                startTimer(timer.id);
            }
        });
        renderTimers();
    </script>
</body>
</html>
